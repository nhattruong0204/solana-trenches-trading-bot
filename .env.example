# ==============================================================================
# Solana Trading Bot - Environment Configuration
# ==============================================================================
# Copy this file to .env and fill in your values

# ==============================================================================
# TELEGRAM CONFIGURATION (REQUIRED)
# ==============================================================================

# Get these from https://my.telegram.org/apps
TELEGRAM_API_ID=your_api_id_here
TELEGRAM_API_HASH=your_api_hash_here

# Phone number for authentication (optional if session exists)
TELEGRAM_PHONE=+1234567890

# Session file name (without .session extension)
TELEGRAM_SESSION_NAME=wallet_tracker_session

# Session file path (optional, for containerized deployments)
# Leave empty for local development
# For Railway/Docker: /app/data/wallet_tracker_session
SESSION_FILE=

# ==============================================================================
# TRADING CONFIGURATION
# ==============================================================================

# Enable/disable trading (true/false)
TRADING_ENABLED=true

# Dry run mode - simulate trades without execution (true/false)
# Set to 'false' for live trading
TRADING_DRY_RUN=true

# Amount of SOL to buy per signal (0.01 - 100.0)
TRADING_BUY_AMOUNT_SOL=0.1

# Percentage to sell when target is hit (1 - 100)
TRADING_SELL_PERCENTAGE=50

# Minimum multiplier to trigger sell (e.g., 2.0 for 2X)
TRADING_MIN_MULTIPLIER=2.0

# Maximum concurrent open positions (1 - 100)
TRADING_MAX_POSITIONS=10

# ==============================================================================
# CHANNEL CONFIGURATION
# ==============================================================================

# Signal channel username (without @)
SIGNAL_CHANNEL=fttrenches_volsm

# GMGN bot username (without @)
GMGN_BOT=GMGN_sol_bot

# ==============================================================================
# TELEGRAM BOT (for notifications and control)
# ==============================================================================

# Enable/disable the notification bot (true/false)
CONTROLLER_ENABLED=true

# Your Telegram user ID (required - admin who can control the bot)
# To find your ID:
# 1. Message @userinfobot on Telegram
# 2. It will reply with your user ID
ADMIN_USER_ID=

# Bot token from @BotFather (required for notifications)
# How to get:
# 1. Message @BotFather on Telegram
# 2. Send /newbot
# 3. Follow the instructions to create your bot
# 4. Copy the token here
BOT_TOKEN=

# ==============================================================================
# MAIN CHANNEL TRACKER BOT (separate bot for @fttrenches_sol)
# ==============================================================================
# Optional: Run a separate bot to track signals from the MAIN channel
# This bot only tracks signals and calculates PnL - no trading

# Bot token for MAIN tracker (from @BotFather)
# Create a separate bot for MAIN channel tracking
MAIN_BOT_TOKEN=

# Session file for MAIN tracker
# IMPORTANT: Use a DIFFERENT session file than trading-bot to avoid SQLite locking
# The trading-bot uses wallet_tracker_session, main-tracker should use main_tracker.session
MAIN_SESSION_FILE=/app/data/main_tracker.session

# Channel/group for notifications (optional)
# Can be username (@channelname) or channel ID (-1001234567890)
# If not set, notifications will be sent to admin DM
# NOTE: Add the bot to your channel as admin first!
NOTIFICATION_CHANNEL=

# GMGN SOL Wallet address (optional)
# Can also be set via /setwallet command after bot starts
# This is the wallet that will be used for trading
GMGN_WALLET=

# ==============================================================================
# POSTGRESQL DATABASE (for signal PnL history)
# ==============================================================================
# These settings connect to the wallet_tracker database for historical
# signal PnL calculations via /signalpnl command

POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=
POSTGRES_DATABASE=wallet_tracker

# ==============================================================================
# FILE PATHS
# ==============================================================================

# State persistence file
STATE_FILE=trading_state.json

# Log file
LOG_FILE=trading_bot.log
GMGN_BOT_USERNAME=GMGN_sol_bot

# ============================================
# CHANNEL SETTINGS
# ============================================

# Channel to monitor
TRENCHES_CHANNEL=fttrenches_volsm

# ==============================================================================
# RISK MANAGEMENT
# ==============================================================================

# Stop Loss Settings
STOP_LOSS_ENABLED=true
STOP_LOSS_TYPE=fixed_percentage  # fixed_percentage, trailing, time_based, atr_based
STOP_LOSS_PERCENTAGE=0.25  # 25% stop loss
TRAILING_STOP_PERCENTAGE=0.20  # 20% trailing stop
TRAILING_STOP_ACTIVATION=1.5  # Activate trailing at 1.5X
TIME_STOP_HOURS=24  # Time-based stop after 24 hours

# Position Sizing
DYNAMIC_SIZING_ENABLED=true
RISK_PER_TRADE=0.02  # 2% risk per trade
MIN_POSITION_SIZE_SOL=0.01
MAX_POSITION_SIZE_SOL=1.0

# Portfolio Risk
MAX_PORTFOLIO_HEAT=0.10  # 10% max portfolio risk
MAX_HOLD_TIME_HOURS=72  # Max hold time

# Circuit Breaker
CIRCUIT_BREAKER_ENABLED=true
DAILY_LOSS_LIMIT_PCT=0.05  # 5% daily loss limit
CONSECUTIVE_LOSS_LIMIT=5  # Stop after 5 consecutive losses
CIRCUIT_BREAKER_COOLDOWN_MINUTES=60

# Trading Capital
TRADING_CAPITAL_SOL=10.0

# ==============================================================================
# PUBLIC MARKETING CHANNEL (for showcasing winning trades)
# ==============================================================================
# Similar to AstroX Top Trades - broadcasts winning signals to attract subscribers

# Public channel for marketing (delayed, partial signals)
# Create a public channel and add your bot as admin
PUBLIC_CHANNEL_ID=
PUBLIC_CHANNEL_USERNAME=

# Premium channel for paying subscribers (instant, full signals)
PREMIUM_CHANNEL_ID=

# Broadcast settings
BROADCAST_MIN_MULTIPLIER=2.0  # Only broadcast 2X+ winners
BROADCAST_DELAY_SECONDS=300  # 5 minute delay for free channel
SHOW_TOKEN_ADDRESS_PUBLIC=false  # Hide addresses in public (premium only)

# Branding
BOT_NAME=SolSleuth
BOT_PUBLIC_USERNAME=SolSleuthBot

# ==============================================================================
# SUBSCRIPTION/PAYMENT SETTINGS (Premium memberships)
# ==============================================================================
# Enable for paid premium access like AstroX Pro

# Enable subscription system
SUBSCRIPTIONS_ENABLED=false

# Payment wallet addresses
PAYMENT_SOL_ADDRESS=
PAYMENT_USDT_BEP20_ADDRESS=
PAYMENT_USDC_SOL_ADDRESS=

# Pricing (USD)
PRICE_MONTHLY=79
PRICE_QUARTERLY=199
PRICE_YEARLY=599
PRICE_LIFETIME=999

# Subscription state file
SUBSCRIPTIONS_FILE=subscriptions.json

# ==============================================================================
# KOL/WHALE TRACKING (Premium feature)
# ==============================================================================
# Track wallets of known successful traders for copy-trading

# Helius API for transaction monitoring (recommended)
# Get free API key at https://helius.xyz/
HELIUS_API_KEY=

# Birdeye API (alternative)
# Get API key at https://birdeye.so/
BIRDEYE_API_KEY=
